# QUBO-formulation-of-the-inequity-aversion-pricing-problem
The inequity aversion pricing problem (IAPP) aims to maximize revenue while providing discount prices to people connected in a social network such that connected people receive prices that are not too different. The python code constructs the inequity aversion graph of a social network, and the solution to the maximum independent set problem on the graph offers price options maximizing total revenue. 

This project considers an electronics retailer who is planning a discount promotion campaign for iPhone 6, iPhone 7 and iPhone 8 of retail price of $700. His potential target customers are those who liked his store page on Facebook. He wants to avoid offering very different discount options to people connected to each other on Facebook. Based on the friendship network of his target customers he obtains 52 potential customers (nodes52_3products.csv) and 146 friendship relationships (lines52.csv). Each potential customer will be offered one of six discount price options {$100,$200}, {$300,$400}, {$500,$600} each pair of which apply to iPhone 6, 7 and 8 respectively. 

The options of the same product are forbidden. Between consecutive versions of products, all pairs are forbidden except adjacent pairs of small price difference which are {(iPhone 6, $200), (iPhone 7, $300)} and {(iPhone 7, $400), (iPhone 8, $500)}. Two friends will not be offered a forbidden pair of options. The retailer may not market some customers for flexibility. It is equivalent to offering the customers discontinuity (‚ä•) or deleting the corresponding nodes from the social network. Each customer is offered exactly one option among the six options and discontinuity. The value functions (Value1, Value2, and Value3) are given in nodes52_3products.csv. For example, if the value (Value2) of iPhone 7 (Product 2) to a potential customer (say, node u) is lower than the price (say, $400) of the option, the customer will not buy the product and no revenue will be produced from offering (iPhone 7, $400) to the customer u. The electronics retailer wants to offer discount options to the potential customers maximizing total revenue.

The inequity aversion graph (iaG) has 6 nodes of (customer, option) per potential customer associated with the revenue from offering the option to the customer. At most one node (customer, option) will be selected to indicate that the customer is offered the option ('X[customer, option] = 1' in the QUBO formulation). For every pair {option1, option2} of options and every customer, the inequity aversion graph adds edge {(customer, option1), (customer, option2)}. For every forbidden pair (option1, option2) and every friend pair (customer1, customer2), the inequity aversion graph adds edges {(customer1, option1), (customer2, option2)} and {(customer1, option2), (customer2, option1)}. The nodes (customer, option) which do not produce revenue are removed from the inequity aversion graph. Then, the inequity aversion pricing problem is the maximum (maximum revenue) independent set problem on the inequity aversion graph. The QUBO formulation solves the maximum independent set problem satisfying constraints X[customer1, option1] * X[customer2,option2] = 0 on the edges {(customer1,option1), (customer2, option2)} of the inequity aversion graph.
